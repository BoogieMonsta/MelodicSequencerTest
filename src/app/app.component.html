<div class="flex flex-col">
    <!-- Top panel -->
    <div class="fixed w-screen">
        <!-- Header -->
        <div class="bg-gray-200 px-5 py-3 flex flex-row justify-between">
            <div class="flex flex-row items-center gap-5">
                <div class="text-2xl">SequenTest</div>
                <div>Template for an audio sequencer as a web application
                    powered by Elementary Audio and Angular</div>
            </div>
            <div>
                <button (click)="toggleSoundOnOff()"> ON/OFF </button>
            </div>
        </div>
        <!-- Toolbar -->
        <div class="flex flex-row justify-evenly bg-gray-100">
            <div class="mx-10 my-3">
                <label for="tempo-input"> Tempo </label>
                <input id="tempo-input" type="number" [(ngModel)]="tempo" (ngModelChange)="renderArp()">
                <button (click)="reduceTempo()"> - </button>
                <button (click)="increaseTempo()"> + </button>
                <button (click)="resetTempo()"> reset </button>
            </div>
            <div class="flex flex-row items-center gap-2 mx-10 my-3">
                <label for="volume-slider"> volume </label>
                <input #volumeSlider id="volume-slider" [(ngModel)]="volume" type="range" min=0 max=1 step=0.01
                    (change)="renderArp()">
                <span>{{ displayVolume() }}</span>
            </div>
        </div>
    </div>
    <!-- Piano roll -->
    <div class="mt-[135px] m-auto">
        <table>
            <tr *ngFor="let noteName of pianoRoll">
                <td *ngFor="let step of pattern">
                    <div class="w-10 h-10 flex items-center justify-center bg-blue-500" (mousedown)="toggleStep(step, noteName)" (mouseup)="isArpPlaying? renderArp() : pauseAudio()">
                        <div class="text-white">{{ displayStep(step, noteName) }}</div>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>